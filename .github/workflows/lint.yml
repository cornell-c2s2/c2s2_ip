name: Lint

on: [push]

jobs:
  lint:
    name: Check Style Conventions
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3
    - name: Create Build Directory
      run: mkdir build
    - name: Install svlint
      run: wget -O build/svlint.zip https://github.com/dalance/svlint/releases/download/v0.9.0/svlint-v0.9.0-x86_64-lnx.zip
    - name: Unzip svlint
      run: unzip build/svlint.zip -d build
    - name: Check svlint installed
      run: build/bin/svlint --version
    - name: Enable Recursive Glob
      run: shopt -s globstar
    - name: List verilog files
      run: ls **/*.v
    - name: Run svlint
      run: build/bin/svlint **/*.v
    - name: Cleanup
      run: rm -r build